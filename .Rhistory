geom_bar(stat = 'identity', width = 1) +
coord_polar("y") +
#  scale_fill_brewer(palette = 'Spectral') +
#scale_fill_manual(values = getPalette(6), name = 'Class') +
scale_fill_brewer(palette = "Paired", name = 'Class') +
ggrepel::geom_label_repel(aes(label = class, y = pos, x = 1.5), fill = 'white', force = 100, nudge_x = 0.2, color = 'black', size = 6) +
#geom_text(aes(x = 1.6, label = n), position = position_stack(vjust = 0.5)) +
theme_void() +
theme(legend.position = "none")
ggsave('images/class_pie.png', width = 5, height = 5, dpi = 300)
tested %>%
dplyr::select(Line, Symbol, class) %>%
dplyr::group_by(Symbol, class) %>%
unique() %>%
dplyr::count() %>%
dplyr::mutate(Symbol = factor(Symbol, levels = rev(sort(.$Symbol))),
n = factor(n, levels = c(1,2,3,4,5))) %>%
ggplot(aes(y = Symbol, x = "", fill = n)) +
geom_tile(color = 1) +
scale_fill_viridis_d(name = 'RNAi Lines') +
#geom_text(aes(label = Symbol)) +
#  ggrepel::geom_text_repel(aes(label = Symbol, x = 1.5), nudge_x = 0.2, nudge_y = 0.1) +
#coord_polar("y") +
theme(axis.title = element_blank(),
panel.background = element_blank(),
panel.grid  = element_blank(),
axis.text.x = element_blank())
#geom_text(aes(label = Symbol)) +
#  ggrepel::geom_text_repel(aes(label = Symbol, x = 1.5), nudge_x = 0.2, nudge_y = 0.1) +
#coord_polar("y") +
scale_x_discrete(expand(c(0,0))
#geom_text(aes(label = Symbol)) +
#  ggrepel::geom_text_repel(aes(label = Symbol, x = 1.5), nudge_x = 0.2, nudge_y = 0.1) +
#coord_polar("y") +
scale_x_discrete(expand +
#geom_text(aes(label = Symbol)) +
#  ggrepel::geom_text_repel(aes(label = Symbol, x = 1.5), nudge_x = 0.2, nudge_y = 0.1) +
#coord_polar("y") +
scale_x_discrete(expand(c(0,0)) +
geom_tile(color = 1) +
tested %>%
scale_fill_viridis_d(name = 'RNAi Lines') +
tested %>%
dplyr::select(Line, Symbol, class) %>%
dplyr::group_by(Symbol, class) %>%
unique() %>%
dplyr::count() %>%
dplyr::mutate(Symbol = factor(Symbol, levels = rev(sort(.$Symbol))),
n = factor(n, levels = c(1,2,3,4,5))) %>%
ggplot(aes(y = Symbol, x = "", fill = n)) +
geom_tile(color = 1) +
scale_fill_viridis_d(name = 'RNAi Lines') +
scale_x_discrete(expand(c(0,0))) +
theme(axis.title = element_blank(),
panel.background = element_blank(),
panel.grid  = element_blank(),
axis.text.x = element_blank())
tested %>%
tested %>%
dplyr::select(Line, Symbol, class) %>%
dplyr::group_by(Symbol, class) %>%
unique() %>%
dplyr::count() %>%
dplyr::mutate(Symbol = factor(Symbol, levels = rev(sort(.$Symbol))),
n = factor(n, levels = c(1,2,3,4,5))) %>%
ggplot(aes(y = Symbol, x = "", fill = n)) +
geom_tile(color = 1) +
scale_fill_viridis_d(name = 'RNAi Lines') +
scale_x_discrete(expand(c(0,0))) +
theme(axis.title = element_blank(),
panel.background = element_blank(),
panel.grid  = element_blank(),
axis.text.x = element_blank())
tested %>%
dplyr::select(Line, Symbol, class) %>%
dplyr::group_by(Symbol, class) %>%
unique() %>%
dplyr::count() %>%
dplyr::mutate(Symbol = factor(Symbol, levels = rev(sort(.$Symbol))),
n = factor(n, levels = c(1,2,3,4,5))) %>%
ggplot(aes(y = Symbol, x = "", fill = n)) +
geom_tile(color = 1) +
scale_fill_viridis_d(name = 'RNAi Lines') +
scale_x_discrete(expand(c(0,0))) +
theme(axis.title = element_blank(),
panel.background = element_blank(),
panel.grid  = element_blank(),
axis.text.x = element_blank())
tested %>%
dplyr::select(Line, Symbol, class) %>%
dplyr::group_by(Symbol, class) %>%
unique() %>%
dplyr::count() %>%
dplyr::mutate(Symbol = factor(Symbol, levels = rev(sort(.$Symbol))),
n = factor(n, levels = c(1,2,3,4,5))) %>%
ggplot(aes(y = Symbol, x = "", fill = n)) +
geom_tile(color = 1) +
scale_fill_viridis_d(name = 'RNAi Lines') +
scale_x_discrete(expand(c(0,0))) +
theme(axis.title = element_blank(),
panel.background = element_blank(),
panel.grid  = element_blank(),
axis.text.x = element_blank())
tested %>%
dplyr::select(Line, Symbol, class) %>%
dplyr::group_by(Symbol, class) %>%
unique() %>%
dplyr::count() %>%
dplyr::mutate(Symbol = factor(Symbol, levels = rev(sort(.$Symbol))),
n = factor(n, levels = c(1,2,3,4,5))) %>%
ggplot(aes(y = Symbol, x = "", fill = n)) +
geom_tile(color = 1) +
scale_fill_viridis_d(name = 'RNAi Lines') +
scale_x_discrete(expand = c(0,0)) +
theme(axis.title = element_blank(),
panel.background = element_blank(),
panel.grid  = element_blank(),
axis.text.x = element_blank())
ggsave('images/line_count.png', width = 2.5, height = 2.5, dpi = 300)
ggsave('images/line_count.png', width = 2.5, height = 8, dpi = 300)
tested %>%
dplyr::select(Line, Symbol, class) %>%
dplyr::group_by(Symbol, class) %>%
unique() %>%
dplyr::count() %>%
dplyr::mutate(Symbol = factor(Symbol, levels = rev(sort(.$Symbol))),
n = factor(n, levels = c(1,2,3,4,5))) %>%
ggplot(aes(y = Symbol, x = "", fill = n)) +
geom_tile(color = 1) +
scale_fill_viridis_d(name = 'RNAi Lines') +
scale_x_discrete(expand = c(0,0)) +
theme(axis.title = element_blank(),
panel.background = element_blank(),
panel.grid  = element_blank(),
axis.text.x = element_blank()) +
facet_wrap(~class)
tested %>%
dplyr::select(Line, Symbol, class) %>%
dplyr::group_by(Symbol, class) %>%
unique() %>%
dplyr::count() %>%
dplyr::mutate(Symbol = factor(Symbol, levels = rev(sort(.$Symbol))),
n = factor(n, levels = c(1,2,3,4,5))) %>%
ggplot(aes(y = Symbol, x = "", fill = n)) +
geom_tile(color = 1) +
scale_fill_viridis_d(name = 'RNAi Lines') +
scale_x_discrete(expand = c(0,0)) +
theme(axis.title = element_blank(),
panel.background = element_blank(),
panel.grid  = element_blank(),
axis.text.x = element_blank())
ggsave('images/line_count.png', width = 6, height = 8, dpi = 300)
tested %>%
dplyr::select(Line, Symbol, class) %>%
dplyr::group_by(Symbol, class) %>%
unique() %>%
dplyr::count() %>%
dplyr::mutate(Symbol = factor(Symbol, levels = rev(sort(.$Symbol))),
n = factor(n, levels = c(1,2,3,4,5))) %>%
ggplot(aes(y = Symbol, x = "", fill = n)) +
geom_tile(color = 1) +
scale_fill_viridis_d(name = 'RNAi Lines') +
scale_x_discrete(expand = c(0,0)) +
theme(axis.title = element_blank(),
panel.background = element_blank(),
panel.grid  = element_blank(),
axis.text.x = element_blank(),
axis.text.y = element_text(size = 5))
ggsave('images/line_count.png', width = 4, height = 6, dpi = 300)
tested %>%
dplyr::select(Line, Symbol, class) %>%
dplyr::group_by(Symbol, class) %>%
unique() %>%
dplyr::count() %>%
dplyr::mutate(Symbol = factor(Symbol, levels = rev(sort(.$Symbol))),
n = factor(n, levels = c(1,2,3,4,5))) %>%
ggplot(aes(y = Symbol, x = "", fill = n)) +
geom_tile(color = 1) +
scale_fill_viridis_d(name = 'RNAi Lines') +
scale_x_discrete(expand = c(0,0)) +
theme(axis.title = element_blank(),
panel.background = element_blank(),
panel.grid  = element_blank(),
axis.text.x = element_blank(),
axis.text.y = element_text(size = 8))
ggsave('images/line_count.png', width = 4, height = 6, dpi = 300)
tested %>%
dplyr::select(Line, Symbol, class) %>%
dplyr::group_by(Symbol, class) %>%
unique() %>%
dplyr::count() %>%
dplyr::mutate(Symbol = factor(Symbol, levels = rev(sort(.$Symbol))),
n = factor(n, levels = c(1,2,3,4,5))) %>%
ggplot(aes(y = Symbol, x = "", fill = n)) +
geom_tile(color = 1) +
scale_fill_viridis_d(name = 'RNAi Lines') +
scale_x_discrete(expand = c(0,0)) +
theme(axis.title = element_blank(),
panel.background = element_blank(),
panel.grid  = element_blank(),
axis.text.x = element_blank(),
axis.text.y = element_text(size = 12))
ggsave('images/line_count.png', width = 4, height = 6, dpi = 300)
ggsave('images/line_count.png', width = 4, height = 8, dpi = 300)
tested %>%
dplyr::select(Symbol, class) %>%
dplyr::group_by(class) %>%
unique() %>%
dplyr::count() %>%
dplyr::ungroup() %>%
dplyr::mutate(csum = rev(cumsum(rev(n))),
pos = csum - n/2) %>%
ggplot(aes(x = "", y = n, fill = class)) +
geom_bar(stat = 'identity', width = 1) +
coord_polar("y") +
#  scale_fill_brewer(palette = 'Spectral') +
#scale_fill_manual(values = getPalette(6), name = 'Class') +
scale_fill_brewer(palette = "Spectral", name = 'Class') +
ggrepel::geom_label_repel(aes(label = class, y = pos, x = 1.5), fill = 'white', force = 100, nudge_x = 0.2, color = 'black', size = 6) +
#geom_text(aes(x = 1.6, label = n), position = position_stack(vjust = 0.5)) +
theme_void() +
theme(legend.position = "none")
ggsave('images/class_pie.png', width = 5, height = 5, dpi = 300)
tested %>%
dplyr::select(Symbol, class) %>%
dplyr::group_by(class) %>%
unique() %>%
dplyr::count() %>%
dplyr::ungroup() %>%
dplyr::mutate(csum = rev(cumsum(rev(n))),
pos = csum - n/2) %>%
ggplot(aes(x = "", y = n, fill = class)) +
geom_bar(stat = 'identity', width = 1) +
coord_polar("y") +
geom_text(aes(x = 1.2, label = n), position = position_stack(vjust = 0.5)) +
#  scale_fill_brewer(palette = 'Spectral') +
#scale_fill_manual(values = getPalette(6), name = 'Class') +
scale_fill_brewer(palette = "Spectral", name = 'Class') +
ggrepel::geom_label_repel(aes(label = class, y = pos, x = 1.5), fill = 'white', force = 100, nudge_x = 0.2, color = 'black', size = 6) +
#geom_text(aes(x = 1.6, label = n), position = position_stack(vjust = 0.5)) +
theme_void() +
theme(legend.position = "none")
ggsave('images/class_pie.png', width = 5, height = 5, dpi = 300)
tested %>%
dplyr::select(Symbol,ACF:TORC) %>%
tidyr::pivot_longer(cols = ACF:TORC) %>%
dplyr::group_by(name, value) %>%
unique() %>%
dplyr::count() %>%
dplyr::filter(value )
tested %>%
dplyr::select(Symbol,ACF:TORC, class) %>%
tidyr::pivot_longer(cols = ACF:TORC) %>%
dplyr::group_by(name, value) %>%
unique() %>%
dplyr::count() %>%
dplyr::filter(value )
tested %>%
dplyr::select(Symbol,ACF:TORC, class) %>%
tidyr::pivot_longer(cols = ACF:TORC) %>%
dplyr::group_by(name, value, class) %>%
unique() %>%
dplyr::count() %>%
dplyr::filter(value )
tested %>%
dplyr::select(Symbol, class) %>%
dplyr::group_by(class) %>%
unique() %>%
dplyr::count()
tested %>%
dplyr::select(Symbol,ACF:TORC, class) %>%
tidyr::pivot_longer(cols = ACF:TORC) %>%
dplyr::group_by(name, value, class) %>%
unique() %>%
dplyr::count() %>%
dplyr::filter(value )
tested %>%
dplyr::select(Symbol,ACF:TORC, class) %>%
tidyr::pivot_longer(cols = ACF:TORC) %>%
dplyr::group_by(name, value, class) %>%
unique() %>%
dplyr::count() %>%
dplyr::filter(value ) %>%
dplyr::ungroup() %>%
dplyr::mutate(csum = cumsum(n))
tested
tested %>%
dplyr::select(Symbol,ACF:TORC, class) %>%
tidyr::pivot_longer(cols = ACF:TORC) %>%
dplyr::group_by(name, value, class) %>%
unique() %>%
dplyr::count()
tested %>%
dplyr::select(Symbol,ACF:TORC, class) %>%
tidyr::pivot_longer(cols = ACF:TORC) %>%
dplyr::group_by(name, value, class) %>%
unique() %>%
dplyr::count() %>%
#dplyr::filter(value ) %>%
dplyr::ungroup() %>%
ggplot(aes(x = "", y = n, fill = name)) +
geom_bar(stat = 'identity', width = 1) +
coord_polar("y", start = 0, direction = -1) +
scale_fill_manual(values = getPalette(14), name = 'Complex') +
geom_text(aes(x = 1.2, label = n), position = position_stack(vjust = 0.5)) +
theme_void() +
facet_wrap(~class)
tested %>%
dplyr::select(Symbol,ACF:TORC, class) %>%
tidyr::pivot_longer(cols = ACF:TORC) %>%
dplyr::group_by(name, value, class) %>%
unique() %>%
dplyr::count() %>%
dplyr::filter(value ) %>%
dplyr::ungroup() %>%
ggplot(aes(x = "", y = n, fill = name)) +
geom_bar(stat = 'identity', width = 1) +
coord_polar("y", start = 0, direction = -1) +
scale_fill_manual(values = getPalette(14), name = 'Complex') +
geom_text(aes(x = 1.2, label = n), position = position_stack(vjust = 0.5)) +
theme_void() +
theme(legend.position = 'bottom')
tested %>%
dplyr::select(Symbol,ACF:TORC, class) %>%
tidyr::pivot_longer(cols = ACF:TORC) %>%
dplyr::group_by(name, value, class) %>%
unique() %>%
dplyr::count() %>%
dplyr::filter(value ) %>%
dplyr::ungroup() %>%
ggplot(aes(x = "", y = n, fill = name)) +
geom_bar(stat = 'identity', width = 1) +
coord_polar("y", start = 0, direction = -1) +
scale_fill_manual(values = getPalette(14), name = 'Complex') +
geom_text(aes(x = 1.2, label = n), position = position_stack(vjust = 0.5), size = 5) +
theme_void() +
theme(legend.position = 'bottom')
ggsave('images/complex_pie.png', width = 5, height = 5, dpi = 300)
tested %>%
dplyr::select(Symbol, class) %>%
dplyr::group_by(class) %>%
unique() %>%
dplyr::count() %>%
dplyr::ungroup() %>%
dplyr::mutate(csum = rev(cumsum(rev(n))),
pos = csum - n/2) %>%
ggplot(aes(x = "", y = n, fill = class)) +
geom_bar(stat = 'identity', width = 1) +
coord_polar("y") +
geom_text(aes(x = 1.2, label = n), position = position_stack(vjust = 0.5), size = 5) +
scale_fill_brewer(palette = "Spectral", name = 'Class') +
ggrepel::geom_label_repel(aes(label = class, y = pos, x = 1.5), fill = 'white', force = 100, nudge_x = 0.2, color = 'black', size = 6) +
theme_void() +
theme(legend.position = "none")
ggsave('images/class_pie.png', width = 5, height = 5, dpi = 300)
tested %>%
dplyr::select(Symbol, class) %>%
dplyr::group_by(class) %>%
unique() %>%
dplyr::count() %>%
dplyr::ungroup() %>%
dplyr::mutate(csum = rev(cumsum(rev(n))),
pos = csum - n/2) %>%
ggplot(aes(x = "", y = n, fill = class)) +
geom_bar(stat = 'identity', width = 1) +
coord_polar("y") +
geom_text(aes(x = 1.2, label = n), position = position_stack(vjust = 0.5), size = 5) +
scale_fill_grey() +
#  scale_fill_brewer(palette = "Spectral", name = 'Class') +
ggrepel::geom_label_repel(aes(label = class, y = pos, x = 1.5), fill = 'white', force = 100, nudge_x = 0.2, color = 'black', size = 6) +
theme_void() +
theme(legend.position = "none")
tested %>%
dplyr::select(Symbol, class) %>%
dplyr::group_by(class) %>%
unique() %>%
dplyr::count() %>%
dplyr::ungroup() %>%
dplyr::mutate(csum = rev(cumsum(rev(n))),
pos = csum - n/2) %>%
ggplot(aes(x = "", y = n, fill = ifelse(class == 'Nucleosome Remodeler',class,'grey' ))) +
geom_bar(stat = 'identity', width = 1) +
coord_polar("y") +
geom_text(aes(x = 1.2, label = n), position = position_stack(vjust = 0.5), size = 5) +
scale_fill_grey() +
#  scale_fill_brewer(palette = "Spectral", name = 'Class') +
ggrepel::geom_label_repel(aes(label = class, y = pos, x = 1.5), fill = 'white', force = 100, nudge_x = 0.2, color = 'black', size = 6) +
theme_void() +
theme(legend.position = "none")
tested %>%
dplyr::select(Symbol, class) %>%
dplyr::group_by(class) %>%
unique() %>%
dplyr::count() %>%
dplyr::ungroup() %>%
dplyr::mutate(csum = rev(cumsum(rev(n))),
pos = csum - n/2) %>%
ggplot(aes(x = "", y = n, fill = ifelse(class == 'Nucleosome Remodeler',class,'grey' ))) +
geom_bar(stat = 'identity', width = 1) +
coord_polar("y") +
geom_text(aes(x = 1.2, label = n), position = position_stack(vjust = 0.5), size = 5) +
#  scale_fill_grey() +
scale_fill_brewer(palette = "Spectral", name = 'Class') +
ggrepel::geom_label_repel(aes(label = class, y = pos, x = 1.5), fill = 'white', force = 100, nudge_x = 0.2, color = 'black', size = 6) +
theme_void() +
theme(legend.position = "none")
tested %>%
dplyr::select(Symbol, class) %>%
dplyr::group_by(class) %>%
unique() %>%
dplyr::count() %>%
dplyr::ungroup() %>%
dplyr::mutate(csum = rev(cumsum(rev(n))),
pos = csum - n/2) %>%
ggplot(aes(x = "", y = n, fill = ifelse(class == 'Nucleosome Remodeler',class,NA ))) +
geom_bar(stat = 'identity', width = 1) +
coord_polar("y") +
geom_text(aes(x = 1.2, label = n), position = position_stack(vjust = 0.5), size = 5) +
#  scale_fill_grey() +
scale_fill_brewer(palette = "Spectral", name = 'Class') +
ggrepel::geom_label_repel(aes(label = class, y = pos, x = 1.5), fill = 'white', force = 100, nudge_x = 0.2, color = 'black', size = 6) +
theme_void() +
theme(legend.position = "none")
tested %>%
dplyr::select(Symbol, class) %>%
dplyr::group_by(class) %>%
unique() %>%
dplyr::count() %>%
dplyr::ungroup() %>%
dplyr::mutate(csum = rev(cumsum(rev(n))),
pos = csum - n/2) %>%
ggplot(aes(x = "", y = n, fill = class)) +
geom_bar(stat = 'identity', width = 1) +
coord_polar("y") +
geom_text(aes(x = 1.2, label = n), position = position_stack(vjust = 0.5), size = 5) +
scale_fill_grey() +
#  scale_fill_brewer(palette = "Spectral", name = 'Class') +
ggrepel::geom_label_repel(aes(label = class, y = pos, x = 1.5), fill = 'white', force = 100, nudge_x = 0.2, color = 'black', size = 6) +
theme_void() +
theme(legend.position = "none")
tested %>%
dplyr::select(Symbol, class) %>%
dplyr::group_by(class) %>%
unique() %>%
dplyr::count() %>%
dplyr::ungroup() %>%
dplyr::mutate(csum = rev(cumsum(rev(n))),
pos = csum - n/2) %>%
ggplot(aes(x = "", y = n, fill = class)) +
geom_bar(stat = 'identity', width = 1) +
coord_polar("y") +
geom_text(aes(x = 1.2, label = n), position = position_stack(vjust = 0.5), size = 5) +
scale_fill_grey() +
#  scale_fill_brewer(palette = "Spectral", name = 'Class') +
ggrepel::geom_label_repel(aes(label = class, y = pos, x = 1.5), fill = 'white', force = 100, nudge_x = 0.2, color = 'black', size = 6) +
theme_void() +
theme(legend.position = "none")
ggsave('images/class_pie.png', width = 5, height = 5, dpi = 300)
tested %>%
dplyr::select(Symbol, class) %>%
dplyr::group_by(class) %>%
unique() %>%
dplyr::count()
tested %>%
dplyr::select(Symbol,ACF:TORC, class) %>%
tidyr::pivot_longer(cols = ACF:TORC) %>%
dplyr::group_by(name, value, class) %>%
unique() %>%
dplyr::count()
tested %>%
dplyr::filter(class == 'Nucleosome Remodeler')
tested %>%
dplyr::filter(class == 'Nucleosome Remodeler') %>%
dplyr::select(Symbol,ACF:TORC) %>%
tidyr::pivot_longer(cols = ACF:TORC)
tested %>%
dplyr::filter(class == 'Nucleosome Remodeler') %>%
dplyr::select(Symbol,ACF:TORC) %>%
tidyr::pivot_longer(cols = ACF:TORC) %>%
dplyr::filter(value )
tested %>%
dplyr::filter(class == 'Nucleosome Remodeler') %>%
dplyr::select(Symbol,ACF:TORC) %>%
tidyr::pivot_longer(cols = ACF:TORC) %>%
dplyr::filter(value ) %>%
unique() %>%
dplyr::group_by(name, value) %>%
dplyr::count()
tested %>%
dplyr::filter(class == 'Nucleosome Remodeler') %>%
dplyr::select(Symbol,ACF:TORC) %>%
tidyr::pivot_longer(cols = ACF:TORC) %>%
dplyr::filter(value ) %>%
unique()
### some genes are represented in different complexes - thus the total number of genes in this plot is greater than the total number of genes tested
tested %>%
dplyr::filter(class == 'Nucleosome Remodeler') %>%
dplyr::select(Symbol,ACF:TORC) %>%
tidyr::pivot_longer(cols = ACF:TORC) %>%
dplyr::filter(value ) %>%
unique() %>%
dplyr::group_by(name, value) %>%
dplyr::count() %>%
dplyr::ungroup() %>%
ggplot(aes(x = "", y = n, fill = name)) +
geom_bar(stat = 'identity', width = 1) +
coord_polar("y", start = 0, direction = -1) +
scale_fill_manual(values = getPalette(14), name = 'Complex') +
geom_text(aes(x = 1.2, label = n), position = position_stack(vjust = 0.5), size = 5) +
theme_void() +
theme(legend.position = 'bottom')
ggsave('images/complex_pie.png', width = 5, height = 5, dpi = 300)
