
```{r setup}

```


double checking aligned reads... 
```{bash, engine.opts='-l'}
#there's gotta be someway to pass a list to samtools but tried with wildcards and find, no dice

samtools view -c -F 260 Bam/osaGFP-3LW-wing-aGFP-CnR-sup-rep1_dm6_trim_q5_dupsRemoved.bam
samtools view -c -F 260 Bam/osaGFP-3LW-wing-aGFP-CnR-sup-rep2_dm6_trim_q5_dupsRemoved.bam
samtools view -c -F 260 Bam/osaGFP-3LW-wing-aGFP-CnR-pel-rep2_dm6_trim_q5_dupsRemoved.bam
samtools view -c -F 260 Bam/yw-3LW-wing-aGFP-CnR-sup-rep1_dm6_trim_q5_dupsRemoved.bam
samtools view -c -F 260 Bam/yw-3LW-wing-aGFP-CnR-sup-rep2_dm6_trim_q5_dupsRemoved.bam
samtools view -c -F 260 Bam/yw-3LW-wing-aGFP-CnR-pel-rep2_dm6_trim_q5_dupsRemoved.bam
```


make correlation plots from the multiBamSummary output - generated on LL
I'm not clear on what the best method for measuring replicate correlation is
pearson correlation assumes normal data, but seems to more accurately reflect what I see in the browser.
spearman doesn't caputre any correlation.
Also, bamSummary may not be appropriate at all because of differences in read depth between samples, but BigWigSummary with rpgcNorm data isn't any better.
```{bash, engine.opts='-l'}

### don't run locally -- run on cluster
#multiBamSummary bins \
#--binSize 1000 \
#--bamfiles Bam/*-wing-*_dm6_trim_q5_dupsRemoved_sorted.bam \
#-o multiBamSummary.npz

plotCorrelation -in multiBamSummary/multiBamSummary-1kb_bin.npz \
--corMethod spearman \
--whatToPlot heatmap \
--plotNumbers \
-o multiBamSummary/multiBamSummary-1kb_bin-spearman.png

plotCorrelation -in multiBamSummary/multiBamSummary-1kb_bin.npz \
--corMethod pearson \
--whatToPlot heatmap \
--plotNumbers \
-o multiBamSummary/multiBamSummary-1kb_bin-pearson.png

plotPCA -in multiBamSummary/multiBamSummary-1kb_bin.npz \
-o multiBamSummary/multiBamSummary-1kb_bin-PCA.png


#bw summary produces very similar results to bam summary
#plotCorrelation -in multiBWsummary/multiBWsummary-1kb_bin.npz \
#--corMethod spearman \
#--whatToPlot heatmap \
#--plotNumbers \
#-o multiBWsummary/multiBWsummary-1kb_bin-spearman.png
#
#plotCorrelation -in multiBWsummary/multiBWsummary-1kb_bin-rpgcNorm.npz \
#--corMethod spearman \
#--whatToPlot heatmap \
#--plotNumbers \
#-o multiBWsummary/multiBWsummary-1kb_bin-spearman-rpgcNorm.png


```


